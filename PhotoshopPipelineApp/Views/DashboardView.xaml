<UserControl x:Class="PhotoshopPipelineApp.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.modernwpf.com/2019">
    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="{StaticResource PagePadding}">
        <Grid>
            <StackPanel MaxWidth="{StaticResource MaxContentWidth}" HorizontalAlignment="Center">
            <TextBlock Text="Dashboard" FontSize="{StaticResource PageTitleFontSize}" FontWeight="SemiBold" Margin="0,0,0,12"/>
            <Border Margin="0,0,0,12" Padding="{StaticResource CardPadding}" CornerRadius="10" BorderThickness="1" BorderBrush="{StaticResource CardBorderBrush}" Background="{StaticResource CardBackground}">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <Button x:Name="StartButton" Content="Start pipeline" Click="StartButton_Click" Margin="0,0,12,0" Style="{StaticResource ButtonStyle}"/>
                        <Button x:Name="StopButton" Content="Stop pipeline" Click="StopButton_Click" IsEnabled="False" Margin="0,0,12,0" Style="{StaticResource ButtonStyle}"/>
                        <Button x:Name="ViewOpenAIResponseButton" Content="View last OpenAI response" Click="ViewOpenAIResponseButton_Click" Style="{StaticResource ButtonStyle}"/>
                    </StackPanel>
                    <TextBlock x:Name="StatusSummaryText" Text="Status: Idle" FontSize="{StaticResource SectionHeaderFontSize}" Opacity="0.9" Margin="0,0,0,8"/>
                    <ItemsControl x:Name="QueueStatusItems">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,0,0,4" Padding="8" CornerRadius="4" BorderThickness="1" BorderBrush="{StaticResource CardBorderBrush}" Background="{StaticResource CardInnerBackground}">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="{Binding QueueName}" FontWeight="SemiBold" MinWidth="120" FontSize="{StaticResource BodyFontSize}"/>
                                        <TextBlock Text="{Binding Status}" Margin="8,0,0,0" Opacity="0.9" FontSize="{StaticResource BodyFontSize}"/>
                                        <TextBlock Text="{Binding LastFileDisplay}" Margin="8,0,0,0" Opacity="0.8" FontSize="{StaticResource BodyFontSize}"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>
            <TextBlock Text="Drop zones" FontSize="{StaticResource SectionHeaderFontSize}" FontWeight="SemiBold" Margin="0,0,0,8"/>
            <ItemsControl x:Name="DropZonesItems" HorizontalAlignment="Center"/>
            <TextBlock Text="Log" FontSize="{StaticResource SectionHeaderFontSize}" FontWeight="SemiBold" Margin="0,12,0,8"/>
            <Border BorderBrush="{StaticResource CardBorderBrush}" BorderThickness="1" CornerRadius="10" Padding="{StaticResource CardPadding}" Background="{StaticResource CardBackground}">
                <ScrollViewer x:Name="LogScroll" VerticalScrollBarVisibility="Auto" MaxHeight="320">
                    <TextBox x:Name="LogTextBox" Style="{StaticResource TextBoxStyle}" IsReadOnly="True" TextWrapping="Wrap" AcceptsReturn="True" BorderThickness="0" Background="Transparent" FontFamily="Consolas" MinHeight="200"/>
                </ScrollViewer>
            </Border>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>
